"""
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞.
–í—Å–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.
"""
import os
from dotenv import load_dotenv

load_dotenv()

# =============================================================================
# –û–°–ù–û–í–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò
# =============================================================================

# Telegram Bot Token
TELEGRAM_BOT_TOKEN = os.getenv('TELEGRAM_BOT_TOKEN')
if not TELEGRAM_BOT_TOKEN:
    # –î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø—ã—Ç–∞–µ–º—Å—è –ø—Ä–æ—á–∏—Ç–∞—Ç—å –∏–∑ token.txt
    try:
        with open('token.txt', 'r') as f:
            TELEGRAM_BOT_TOKEN = f.read().strip()
    except FileNotFoundError:
        raise ValueError(
            "‚ùå TELEGRAM_BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω!\n"
            "–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –∏ –¥–æ–±–∞–≤—å—Ç–µ: TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω\n"
            "–ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª token.txt —Å —Ç–æ–∫–µ–Ω–æ–º"
        )

# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
DEFAULT_TIMEZONE = os.getenv('DEFAULT_TIMEZONE', 'Etc/GMT-3')

# –†–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—á–∞—Å—ã)
DEFAULT_START_HOUR = int(os.getenv('DEFAULT_START_HOUR', '8'))   # 08:00
DEFAULT_END_HOUR = int(os.getenv('DEFAULT_END_HOUR', '23'))       # 23:00 (–ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤ 23:00, —Å–ª–µ–¥—É—é—â–µ–µ –≤ 08:00)

# =============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –ë–ê–ó–´ –î–ê–ù–ù–´–•
# =============================================================================

DB_NAME = os.getenv('DB_NAME', 'reminders.db')
SCHEDULER_DB_NAME = os.getenv('SCHEDULER_DB_NAME', 'scheduler_jobs.db')

# =============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø
# =============================================================================

LOG_LEVEL = os.getenv('LOG_LEVEL', 'INFO')
LOG_FILE = os.getenv('LOG_FILE', 'bot_log.txt')
LOG_FORMAT = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'

# =============================================================================
# –ù–ê–°–¢–†–û–ô–ö–ò –ü–õ–ê–ù–ò–†–û–í–©–ò–ö–ê
# =============================================================================

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
MISFIRE_GRACE_TIME = int(os.getenv('MISFIRE_GRACE_TIME', '3600'))  # 1 —á–∞—Å –≤ —Å–µ–∫—É–Ω–¥–∞—Ö

# –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –æ –≤–æ–¥–µ
WATER_REMINDER_MESSAGE = '–í—Ä–µ–º—è –ø–∏—Ç—å –≤–æ–¥—É! üíß'

# =============================================================================
# –°–û–û–ë–©–ï–ù–ò–Ø –ë–û–¢–ê
# =============================================================================

class Messages:
    """–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Ç–µ–∫—Å—Ç–æ–≤ —Å–æ–æ–±—â–µ–Ω–∏–π."""
    
    ONBOARDING_TEXT = (
        "–ü—Ä–∏–≤–µ—Ç! üëã –Ø —Ç–≤–æ–π –±–æ—Ç-–Ω–∞–ø–æ–º–∏–Ω–∞–ª–∫–∞ –æ –≤–æ–¥–µ üíß\n\n"
        "–ú–æ—è –∑–∞–¥–∞—á–∞ –ø—Ä–æ—Å—Ç–∞—è: –ø–æ–º–æ–≥–∞—Ç—å —Ç–µ–±–µ –ø–∏—Ç—å –≤–æ–¥—É —Ä–µ–≥—É–ª—è—Ä–Ω–æ –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è.\n\n"
        "–í–æ—Ç –∫–∞–∫ —è —Ä–∞–±–æ—Ç–∞—é:\n"
        "‚Ä¢ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç 1 —Ä–∞–∑ –≤ —á–∞—Å\n"
        "‚Ä¢ –†–∞–±–æ—Ç–∞—é —Å 08:00 –¥–æ 23:00 –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏\n"
        "‚Ä¢ –¢–∏—Ö–∏–µ —á–∞—Å—ã: —Å 23:00 –¥–æ 08:00 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –Ω–µ—Ç\n\n"
        "–ö–æ–≥–¥–∞ —Ç—ã –∞–∫—Ç–∏–≤–∏—Ä—É–µ—à—å –º–µ–Ω—è, —è –Ω–∞—á–Ω—É –ø—Ä–∏—Å—ã–ª–∞—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤—Ä–µ–º–µ–Ω–∏:\n"
        "‚Ä¢ –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—à—å –¥–Ω—ë–º ‚Äî –ø–µ—Ä–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ –±–ª–∏–∂–∞–π—à–∏–π —á–∞—Å\n"
        "‚Ä¢ –ï—Å–ª–∏ –Ω–æ—á—å—é ‚Äî –ø–µ—Ä–≤–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ 8:00 —É—Ç—Ä–∞\n\n"
        "üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:\n"
        "‚Ä¢ –ú–æ–∂–µ—à—å –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç\n"
        "‚Ä¢ –ú–æ–∂–µ—à—å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –∏—Ö –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π\n\n"
        "–ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏ \"–û–∫, –ø–æ–Ω—è—Ç–Ω–æ!\" –∏ —è –Ω–∞—á–Ω—É —Ä–∞–±–æ—Ç–∞—Ç—å! üòä"
    )
    
    ONBOARDING_BUTTON_TEXT = "–û–∫, –ø–æ–Ω—è—Ç–Ω–æ!"
    
    WELCOME = (
        "–ü—Ä–∏–≤–µ—Ç! –Ø –≤–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –±–æ—Ç-–Ω–∞–ø–æ–º–∏–Ω–∞–ª–∫–∞.\n\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:"
    )
    
    ERROR_GENERAL = "–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."
    
    WATER_STATUS_ACTIVE = "–°—Ç–∞—Ç—É—Å: –í–∫–ª—é—á–µ–Ω—ã ‚úÖ\n–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥—è—Ç –∫–∞–∂–¥—ã–π —á–∞—Å —Å 08:00 –¥–æ 23:00 –ø–æ –ú–°–ö"
    
    WATER_STATUS_INACTIVE = "–°—Ç–∞—Ç—É—Å: –í—ã–∫–ª—é—á–µ–Ω—ã ‚ùå"
    
    WATER_STOPPED = "‚úÖ –í—Å–µ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –Ω–µ –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å."
    
    WATER_RESUMED = "‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω—ã!\n\n–°–ª–µ–¥—É—é—â–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ: {next_time}"

# =============================================================================
# –†–ï–ñ–ò–ú –†–ê–ó–†–ê–ë–û–¢–ö–ò
# =============================================================================

DEBUG_MODE = os.getenv('DEBUG_MODE', 'false').lower() == 'true'

if DEBUG_MODE:
    LOG_LEVEL = 'DEBUG'

